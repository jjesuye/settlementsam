# ─── Settlement Sam — Environment Variables ────────────────────────────────────
# Copy this file to .env and fill in every value before starting the server.
# NEVER commit .env to git. It is already listed in .gitignore.
#
# Quick start: npm run setup-admin  → creates admin account in Firestore

# ─── Firebase Admin SDK (server-side — API routes only) ─────────────────────────
# Get from Firebase Console → Project Settings → Service Accounts
# → Generate New Private Key → download JSON → copy values below.
#
# IMPORTANT: The private key must use literal \n (backslash-n), not real newlines.
# In Railway: paste the raw PEM value — Railway handles newlines correctly.
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxx@your-project-id.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY=-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY_HERE\n-----END PRIVATE KEY-----\n

# ─── Firebase Client SDK (browser-side — safe to expose) ─────────────────────────
# Get from Firebase Console → Project Settings → Your Apps → Web App → Config
NEXT_PUBLIC_FIREBASE_API_KEY=AIzaSyXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your-project-id.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your-firebase-project-id
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your-project-id.appspot.com
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=123456789012
NEXT_PUBLIC_FIREBASE_APP_ID=1:123456789012:web:abcdef1234567890abcdef

# ─── Auth (admin dashboard) ─────────────────────────────────────────────────────
# JWT signing secret — use a long random string (64+ chars)
# Generate one: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your_very_long_random_jwt_secret_here_minimum_64_chars

# Admin email for JWT payload — must match the email used in npm run setup-admin
ADMIN_EMAIL=admin@yourdomain.com
# Optional bcrypt hash fallback (used if no Firestore admin record exists)
ADMIN_PASSWORD_HASH=                 # bcrypt hash — generated by npm run setup-admin
# ADMIN_PASSWORD=                    # plaintext fallback for dev ONLY — NEVER in production

# ─── Gmail SMTP (for SMS code delivery via carrier email-to-SMS gateways) ──────
# Use a DEDICATED Gmail address for Settlement Sam — not your personal account.
# An App Password is required (not your regular Gmail password).
#
# How to generate an App Password:
#   1. Enable 2-Step Verification on the Gmail account
#   2. Go to myaccount.google.com → Security → 2-Step Verification → App Passwords
#   3. Create a new app password (name it "Settlement Sam")
#   4. Copy the 16-character code (spaces are fine — Gmail ignores them)
GMAIL_USER=your-sam-account@gmail.com
GMAIL_APP_PASSWORD=xxxx xxxx xxxx xxxx

# ─── Google Sheets API (for pushing verified leads to client spreadsheets) ──────
# Create a Google Cloud project → enable Sheets API → create a Service Account
# → download the JSON key file → extract the values below.
#
# How to set up:
#   1. Go to console.cloud.google.com → New Project
#   2. Enable "Google Sheets API"
#   3. IAM & Admin → Service Accounts → Create Service Account
#   4. Download JSON key → copy values below
#   5. Share the client's Google Sheet with the service account email (Editor role)
#
# IMPORTANT: The private key must use literal \n (backslash-n), not real newlines.
GOOGLE_SERVICE_ACCOUNT_EMAIL=settlement-sam@your-project.iam.gserviceaccount.com
GOOGLE_SERVICE_ACCOUNT_KEY=-----BEGIN PRIVATE KEY-----\nYOUR_KEY_HERE\n-----END PRIVATE KEY-----\n

# ─── Stripe (for prepaid lead invoicing) ────────────────────────────────────────
# Get from dashboard.stripe.com → Developers → API Keys
# Use TEST keys during development, LIVE keys in production.
STRIPE_SECRET_KEY=sk_test_XXXXXXXXXXXXXXXXXXXX
# Get from dashboard.stripe.com → Developers → Webhooks → Add Endpoint
# Endpoint URL: https://yourdomain.com/api/billing/webhook
# Events: invoice.payment_succeeded, invoice.payment_failed
STRIPE_WEBHOOK_SECRET=whsec_XXXXXXXXXXXXXXXXXXXX

# ─── App URL ───────────────────────────────────────────────────────────────────
# Used for metadata, Open Graph tags, and email links. No trailing slash.
NEXT_PUBLIC_APP_URL=http://localhost:3000
